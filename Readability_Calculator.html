<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Readability Score Predictor</title>
    
    <style>
        body { font-family: sans-serif; padding: 20px; background-color: #0c0e14; color: #f4f6f7; }
        .container { max-width: 800px; margin: 0 auto; background: #1a1e2b; padding: 30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        h1 { color: #f39c12; text-align: center; margin-bottom: 5px; }
        p { color: #aeb6bf; text-align: center; margin-bottom: 25px; }

        label { display: block; margin-bottom: 8px; color: #5dade2; font-weight: bold; }
        textarea {
            width: 100%;
            height: 250px;
            padding: 15px;
            margin-bottom: 20px;
            border: 2px solid #3498db;
            border-radius: 5px;
            background-color: #2c3e50;
            color: #fff;
            resize: vertical;
            font-size: 14px;
        }

        .output-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .output-box {
            background-color: #34495e;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #2ecc71;
        }

        .output-box .value {
            font-size: 2.5em;
            color: #f39c12;
            font-weight: bold;
            display: block;
        }

        .output-box .label {
            font-size: 0.9em;
            color: #aeb6bf;
            text-transform: uppercase;
        }
        
        .note {
            margin-top: 20px;
            padding: 10px;
            background-color: #34495e;
            border-left: 5px solid #5dade2;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>ðŸ§  Readability Grade Level</h1>
    <p>Analyze your text using the Flesch-Kincaid formula to determine the US grade level required for understanding.</p>

    <label for="content-input">Article Content (Paste Your Text Here)</label>
    <textarea id="content-input" oninput="calculateReadability()">
Readability scores are very important for content marketing. If you want a wide audience to enjoy your articles, you should write at a low grade level. The Flesch-Kincaid formula is a mathematical method that calculates the complexity of your document. It's an excellent way to ensure simplicity and clarity, and this makes it easier for people to read your text quickly.
    </textarea>

    <div class="output-grid">
        <div class="output-box">
            <span class="value" id="grade-output">0.0</span>
            <span class="label">Flesch-Kincaid Grade Level</span>
        </div>
        <div class="output-box">
            <span class="value" id="sentence-length-output">0.0</span>
            <span class="label">Avg. Sentence Length (Words)</span>
        </div>
    </div>
    
    <div class="note">
        Most widely-read content (e.g., newspapers) aims for a score between 6 and 8. Higher scores (10+) indicate complex, academic text.
    </div>
</div>

<script>
    const CONTENT_INPUT = document.getElementById('content-input');
    const GRADE_OUTPUT_EL = document.getElementById('grade-output');
    const SENTENCE_LENGTH_OUTPUT_EL = document.getElementById('sentence-length-output');

    // --- Syllable Counting Logic (Simplified heuristic) ---
    // This is a simplified heuristic function for syllable counting, essential for the F-K formula.
    function countSyllables(word) {
        word = word.toLowerCase();
        // 1. Remove non-alphabetic characters
        word = word.replace(/[^a-z]/g, '');

        // If the word is empty, return 0
        if (word.length === 0) return 0;

        // 2. Remove silent trailing 'e' (unless it is 'le' at the end)
        word = word.replace(/e$/, ''); 
        
        // 3. Simple vowel counting (counts contiguous vowel groups)
        let count = word.match(/[aeiouy]+/g) || [];
        
        // 4. Handle common edge cases
        let syllableCount = count.length;

        // Ensure minimum 1 syllable
        return Math.max(1, syllableCount);
    }

    // --- Core Readability Calculation ---
    function calculateReadability() {
        const text = CONTENT_INPUT.value.trim();

        if (text.length === 0) {
            GRADE_OUTPUT_EL.textContent = '0.0';
            SENTENCE_LENGTH_OUTPUT_EL.textContent = '0.0';
            return;
        }

        // 1. Total Words: Split by whitespace and filter empty strings
        const words = text.split(/\s+/g).filter(word => word.length > 0);
        const totalWords = words.length;

        // 2. Total Sentences: Split by common end punctuation, ensuring one sentence per block
        // (Uses a lookbehind assertion to capture punctuation without including it in the split)
        const sentences = text.split(/([.!?]+)/g).filter((s, i) => i % 2 === 0 && s.trim().length > 0);
        const totalSentences = sentences.length;

        // 3. Total Syllables: Sum the syllable count for all words
        let totalSyllables = 0;
        words.forEach(word => {
            totalSyllables += countSyllables(word);
        });
        
        // --- Calculate Intermediate Values ---
        const avgSentenceLength = totalSentences > 0 ? totalWords / totalSentences : 0;
        const avgSyllablesPerWord = totalWords > 0 ? totalSyllables / totalWords : 0;

        // --- Flesch-Kincaid Grade Level Formula ---
        // Formula: (0.39 * ASL) + (11.8 * ASW) - 15.59
        let fkGradeLevel = 0;
        if (totalWords > 0 && totalSentences > 0) {
            fkGradeLevel = (0.39 * avgSentenceLength) + (11.8 * avgSyllablesPerWord) - 15.59;
        }
        
        // Ensure score is not negative
        fkGradeLevel = Math.max(0, fkGradeLevel);

        // --- Output Results ---
        
        // Display Grade Level (rounded to 1 decimal place)
        GRADE_OUTPUT_EL.textContent = fkGradeLevel.toFixed(1);

        // Display Avg. Sentence Length (rounded to 1 decimal place)
        SENTENCE_LENGTH_OUTPUT_EL.textContent = avgSentenceLength.toFixed(1);
    }

    // Initialize the calculation on page load
    window.onload = function() {
        calculateReadability();
    };
</script>
</body>
</html>
