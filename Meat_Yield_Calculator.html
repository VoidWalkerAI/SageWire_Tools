<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HerdMate | Meat Yield Calculator</title>
    
    <style>
        /* --- HERDMATE BRANDING CSS --- */
        body { 
            font-family: sans-serif; 
            padding: 20px; 
            background-color: #14141A; /* Ranch Slate */
            color: #f4f6f7; 
            font-size: 1.05em;
        }
        .container { 
            max-width: 750px; 
            margin: 0 auto; 
            background: #292930; /* Soil/Dark Taupe */
            padding: 30px; 
            border-radius: 10px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.5); 
        }
        h1 { 
            color: #B85C38; /* Primary Accent (Rust) */
            text-align: center; 
            margin-bottom: 5px; 
        }
        p { 
            color: #ccc; 
            text-align: center; 
            margin-bottom: 25px; 
        }

        .section-title {
            color: #5dade2;
            border-bottom: 1px solid #5dade2;
            padding-bottom: 5px;
            margin-top: 20px;
            margin-bottom: 15px;
            font-size: 1.1em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .input-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
        }

        label { display: block; margin-bottom: 8px; color: #aeb6bf; font-weight: bold; }
        
        input[type="number"], select {
            width: 100%;
            padding: 10px;
            border: 2px solid #7D716A; /* Aged Bronze Border */
            border-radius: 5px;
            background-color: #34343d; 
            color: #fff;
            font-size: 16px;
        }

        .output-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .output-box {
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #5A946E; /* Forage Green Border */
            background-color: #34343d;
        }

        .output-box h3 {
            margin-top: 0;
            color: #B85C38; 
            border-bottom: 1px solid #7D716A;
            padding-bottom: 5px;
            font-size: 1.1em;
        }

        .output-box .value {
            font-size: 1.8em;
            color: #5A946E; 
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }

        .output-box .label {
            font-size: 0.9em;
            color: #aeb6bf;
            text-transform: uppercase;
        }

        .final-cost-box {
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #f39c12; /* Gold Border */
            background-color: #1a1e2b;
        }
        
        .note {
            margin-top: 20px;
            padding: 10px;
            background-color: #34343d;
            border-left: 5px solid #5A946E;
            font-size: 0.9em;
            color: #f4f6f7;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>ðŸ¥© HerdMate | Meat Yield Calc</h1>
    <p>Estimate freezer beef or pork yields and the true cost per pound of packaged meat.</p>

    <h3 class="section-title">1. Animal Details</h3>
    <div class="input-grid">
        <div>
            <label>Species</label>
            <select id="species-select" onchange="calculateYield()">
                <option value="beef_std">Beef (Standard Yield)</option>
                <option value="beef_lean">Beef (Lean/Dairy)</option>
                <option value="pork">Pork (Market Hog)</option>
            </select>
        </div>
        <div>
            <label>Live Weight (Lbs)</label>
            <input type="number" id="live-weight" value="1200" min="100" oninput="calculateYield()">
        </div>
    </div>
    <div class="input-grid">
        <div>
            <label>Live Price ($/Lb)</label>
            <input type="number" id="live-price" value="1.50" step="0.01" oninput="calculateYield()">
        </div>
        <div>
            <label>Processing/Kill Fee (Total $)</label>
            <input type="number" id="processing-fee" value="700" min="0" oninput="calculateYield()">
        </div>
    </div>

    <div class="output-grid">
        <div class="output-box">
            <h3>Hanging Weight</h3>
            <span class="value" id="hanging-weight-out">0 Lbs</span>
            <span class="label" id="dressing-pct-label">Est. 61% Dressing</span>
        </div>
        <div class="output-box">
            <h3>Freezer Weight</h3>
            <span class="value" id="take-home-out">0 Lbs</span>
            <span class="label">Packaged Meat</span>
        </div>
    </div>

    <div class="final-cost-box">
        <h3>True Cost Per Pound</h3>
        <span class="value" id="final-price-out" style="color: #f39c12; font-size: 2.5em;">$0.00 / Lb</span>
        <span class="label">Total Cost (Animal + Processing) / Freezer Lbs</span>
    </div>
    
    <div class="note">
        <strong>Note:</strong> "Hanging Weight" is the carcass weight after slaughter (removing hide, head, organs). "Freezer Weight" is the final cut-and-wrapped meat (removing bone, fat trim, and moisture loss).
    </div>
</div>

<script>
    const SPECIES_SELECT = document.getElementById('species-select');
    const LIVE_WEIGHT_INPUT = document.getElementById('live-weight');
    const LIVE_PRICE_INPUT = document.getElementById('live-price');
    const PROCESSING_FEE_INPUT = document.getElementById('processing-fee');
    
    const HANGING_OUT = document.getElementById('hanging-weight-out');
    const DRESSING_LABEL = document.getElementById('dressing-pct-label');
    const TAKE_HOME_OUT = document.getElementById('take-home-out');
    const FINAL_PRICE_OUT = document.getElementById('final-price-out');

    // Industry Averages
    const DATA = {
        'beef_std': { dressing: 0.61, turnout: 0.60, label: '61% Dressing' }, // 1200 live -> 732 hanging -> 439 boxed
        'beef_lean': { dressing: 0.58, turnout: 0.58, label: '58% Dressing' },
        'pork': { dressing: 0.72, turnout: 0.65, label: '72% Dressing' }      // 250 live -> 180 hanging -> 117 boxed
    };

    const formatCurrency = (val) => '$' + val.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});

    function calculateYield() {
        const type = SPECIES_SELECT.value;
        const liveWt = parseFloat(LIVE_WEIGHT_INPUT.value);
        const pricePerLb = parseFloat(LIVE_PRICE_INPUT.value);
        const processFee = parseFloat(PROCESSING_FEE_INPUT.value);

        // Validation
        if (isNaN(liveWt) || isNaN(pricePerLb) || isNaN(processFee) || liveWt <= 0) {
            HANGING_OUT.textContent = '0 Lbs';
            TAKE_HOME_OUT.textContent = '0 Lbs';
            FINAL_PRICE_OUT.textContent = '$0.00 / Lb';
            return;
        }

        const factors = DATA[type];

        // 1. Calculate Weights
        const hangingWt = liveWt * factors.dressing;
        const takeHomeWt = hangingWt * factors.turnout;

        // 2. Calculate Costs
        const animalCost = liveWt * pricePerLb;
        const totalInvestment = animalCost + processFee;

        // 3. Calculate Final Cost Per Pound
        // We divide the TOTAL money spent by the ACTUAL meat received
        const costPerPound = totalInvestment / takeHomeWt;

        // --- Output ---
        HANGING_OUT.textContent = Math.round(hangingWt).toLocaleString() + " Lbs";
        DRESSING_LABEL.textContent = `Est. ${(factors.dressing * 100).toFixed(0)}% Dressing`;
        
        TAKE_HOME_OUT.textContent = Math.round(takeHomeWt).toLocaleString() + " Lbs";
        
        FINAL_PRICE_OUT.textContent = formatCurrency(costPerPound) + " / Lb";
    }

    // Initialize
    window.onload = function() {
        calculateYield();
    };
</script>
</body>
</html>
