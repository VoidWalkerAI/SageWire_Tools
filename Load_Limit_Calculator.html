<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SageWire Tools | Load Limit Calc</title>
    
    <style>
        /* --- SAGEWIRE BRANDING CSS --- */
        body { 
            font-family: sans-serif; 
            padding: 20px; 
            background-color: #14141A; /* Ranch Slate */
            color: #f4f6f7; 
            font-size: 1.05em;
        }
        .container { 
            max-width: 700px; 
            margin: 0 auto; 
            background: #292930; /* Soil/Dark Taupe */
            padding: 30px; 
            border-radius: 10px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.5); 
        }
        
        /* Header Styling */
        .header-brand {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px dashed #5dade2;
        }
        .header-brand h1 { 
            color: #B85C38; /* Rust Accent */
            margin: 0;
            font-size: 1.8em;
        }
        .header-brand p {
            color: #aeb6bf;
            margin: 5px 0 0;
            font-size: 0.9em;
            font-style: italic;
        }

        .section-title {
            color: #5dade2;
            border-bottom: 1px solid #5dade2;
            padding-bottom: 5px;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.1em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .input-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
        }

        label { display: block; margin-bottom: 8px; color: #aeb6bf; font-weight: bold; font-size: 0.9em; }
        
        input[type="number"], select {
            width: 100%;
            padding: 12px;
            border: 2px solid #7D716A; 
            border-radius: 5px;
            background-color: #34343d; 
            color: #fff;
            font-size: 16px;
        }

        /* Output Styling */
        .output-box {
            margin-top: 30px;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #5A946E;
            background-color: #34343d;
        }

        .output-box h3 {
            margin-top: 0;
            color: #B85C38; 
            border-bottom: 1px solid #7D716A;
            padding-bottom: 5px;
            font-size: 1.1em;
        }

        .output-box .value {
            font-size: 2.5em;
            color: #5A946E; 
            font-weight: bold;
            display: block;
        }

        .output-box .label {
            font-size: 0.9em;
            color: #aeb6bf;
            text-transform: uppercase;
        }

        /* Status Banner */
        #status-banner {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
            font-size: 1.2em;
            background-color: #1a1e2b;
            border: 1px dashed #7D716A;
            color: #aeb6bf;
        }
        
        .status-pass { background-color: #1e2b24; border: 2px solid #5A946E; color: #5A946E; }
        .status-fail { background-color: #2b1e1e; border: 2px solid #E74C3C; color: #E74C3C; }

        .note {
            margin-top: 20px;
            padding: 10px;
            background-color: #34343d;
            border-left: 5px solid #5dade2;
            font-size: 0.9em;
            color: #f4f6f7;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header-brand">
        <h1>SageWire Tools</h1>
        <p>We tend the fire while you're out living life.</p>
    </div>
    
    <h2 style="text-align:center; color:#5dade2;">üîó Chain & Strap WLL Calculator</h2>
    <p style="text-align:center; color:#ccc;">Verify your tie-down capacity against DOT safety standards.</p>

    <h3 class="section-title">1. Equipment Specs</h3>
    <div class="input-grid">
        <div>
            <label>Type & Grade</label>
            <select id="type-select" onchange="calculateLoad()">
                <option value="G70">Chain - Grade 70 (Transport/Gold)</option>
                <option value="G43">Chain - Grade 43 (High Test)</option>
                <option value="G30">Chain - Grade 30 (Proof Coil)</option>
                <option value="G80">Chain - Grade 80 (Alloy/Lifting)</option>
                <option value="G100">Chain - Grade 100 (Alloy)</option>
                <option value="Strap">Synthetic Strap (Webbing)</option>
            </select>
        </div>
        <div>
            <label>Size / Width</label>
            <select id="size-select" onchange="calculateLoad()">
                </select>
        </div>
    </div>
    
    <label>Number of Tie-Downs Used</label>
    <input type="number" id="count-input" value="4" min="1" oninput="calculateLoad()">

    <h3 class="section-title">2. Cargo Load</h3>
    <label>Total Weight of Cargo (Lbs)</label>
    <input type="number" id="load-input" value="10000" min="0" oninput="calculateLoad()">

    <div class="output-box">
        <h3>Aggregate Working Load Limit</h3>
        <span class="value" id="wll-output">0 Lbs</span>
        <span class="label">Total Securement Capacity</span>
    </div>
    
    <div id="status-banner">Enter details to check safety.</div>
    
    <div class="note">
        <strong>DOT Standard:</strong> The Aggregate Working Load Limit must be at least <strong>50%</strong> of the weight of the cargo. (e.g., 10,000 lb tractor needs 5,000 lbs of WLL).
    </div>
</div>

<script>
    const TYPE_SELECT = document.getElementById('type-select');
    const SIZE_SELECT = document.getElementById('size-select');
    const COUNT_INPUT = document.getElementById('count-input');
    const LOAD_INPUT = document.getElementById('load-input');
    
    const WLL_OUTPUT = document.getElementById('wll-output');
    const STATUS_BANNER = document.getElementById('status-banner');

    // WLL Data (Lbs) - Standard Ratings
    const DATA = {
        'G30': { '1/4"': 1300, '5/16"': 1900, '3/8"': 2650, '1/2"': 4500 },
        'G43': { '1/4"': 2600, '5/16"': 3900, '3/8"': 5400, '1/2"': 9200 },
        'G70': { '1/4"': 3150, '5/16"': 4700, '3/8"': 6600, '1/2"': 11300 }, // Common Transport
        'G80': { '9/32"': 3500, '3/8"': 7100, '1/2"': 12000, '5/8"': 18100 },
        'G100': { '9/32"': 4300, '3/8"': 8800, '1/2"': 15000, '5/8"': 22600 },
        'Strap': { '1"': 1000, '2"': 3335, '3"': 5400, '4"': 6670 } // Standard Yellow Straps
    };

    function updateSizes() {
        const type = TYPE_SELECT.value;
        const sizes = Object.keys(DATA[type]);
        
        // Save current selection if possible
        const currentVal = SIZE_SELECT.value;
        
        SIZE_SELECT.innerHTML = '';
        sizes.forEach(size => {
            const option = document.createElement('option');
            option.value = size;
            option.textContent = size;
            if (type === 'G70' && size === '5/16"') option.selected = true; // Default
            if (type === 'Strap' && size === '2"') option.selected = true;
            SIZE_SELECT.appendChild(option);
        });
        
        calculateLoad();
    }

    function calculateLoad() {
        const type = TYPE_SELECT.value;
        const size = SIZE_SELECT.value;
        const count = parseInt(COUNT_INPUT.value) || 0;
        const loadWeight = parseFloat(LOAD_INPUT.value) || 0;

        // Get Single WLL
        const singleWLL = DATA[type][size] || 0;
        
        // Calculate Aggregate
        const aggregateWLL = singleWLL * count;

        // --- Output ---
        WLL_OUTPUT.textContent = aggregateWLL.toLocaleString() + " Lbs";

        // Safety Check (DOT 50% Rule)
        if (loadWeight > 0) {
            const requiredWLL = loadWeight * 0.5;
            
            if (aggregateWLL >= loadWeight) {
                STATUS_BANNER.textContent = "‚úÖ EXCELLENT: Exceeds 100% of Load Weight.";
                STATUS_BANNER.className = "status-pass";
            } else if (aggregateWLL >= requiredWLL) {
                STATUS_BANNER.textContent = "‚úÖ LEGAL: Meets DOT 50% Requirement.";
                STATUS_BANNER.className = "status-pass";
                // Optional: Change border to yellow/orange if barely legal? 
                // Keeping green for "Legal" is safer standard UI.
            } else {
                const short = requiredWLL - aggregateWLL;
                STATUS_BANNER.textContent = `‚ùå FAILED: Need ${short.toLocaleString()} lbs more WLL.`;
                STATUS_BANNER.className = "status-fail";
            }
        } else {
            STATUS_BANNER.textContent = "Enter Load Weight to check compliance.";
            STATUS_BANNER.className = "";
            STATUS_BANNER.style.backgroundColor = "#1a1e2b";
        }
    }

    // Init
    TYPE_SELECT.addEventListener('change', updateSizes);
    window.onload = function() {
        updateSizes(); // Populate initial sizes
    };
</script>
</body>
</html>
